<app-titlebar [titletext]="'Settings'" [titleiconfacode]="'fa fa-cog'"></app-titlebar>

<body>
<div class="main container page">
    <h2 class="section-header"><i id="notificationIcon" class="fas fa-bell"></i> Notifications</h2>
    <hr>
    <div *ngIf="receiveNotifications" id="notification-permission-banner" [class.not-allowed]="!notificationsPermitted">
        <div *ngIf="notificationsPermitted; else notificationsNotPermitted" id="notifications-permitted">
            <div class="banner-text-container">
                <h3 class="banner-header">Notifications are permitted for this device</h3>
                <h5 class="banner-text">You can disable them from your browser settings.</h5>
            </div>
        </div>
        <ng-template #notificationsNotPermitted>
            <div class="banner-text-container">
                <h3 class="banner-header">Notifications are not permitted for this device</h3>
                <h5 class="banner-text">You are not able to recive notifications.</h5>
            </div>
            <button mat-button class="permit-notifications-button" (click)="requestNotificationPermission()">Permit</button>
        </ng-template>
    </div>
    <mat-slide-toggle color="primary" [(ngModel)]="receiveNotifications">Receive notifications</mat-slide-toggle>
    <br><br>
    <div id="notificationSettings">
        <mat-checkbox color="primary" disabled>Important updates</mat-checkbox>
        <mat-checkbox [disabled]="!receiveNotifications" color="primary" [checked]="newsArticleNotifications" (click)="newsArticlesCheckboxChanged($event)">
            News articles
        </mat-checkbox>
        <mat-checkbox color="primary" [checked]="redditPostNotifications" disabled>
            Reddit posts
        </mat-checkbox>
        <mat-checkbox color="primary" [checked]="imageNotifications" disabled>
            Images
        </mat-checkbox>
        <mat-checkbox color="primary" [checked]="youtubeNotifications" disabled>
            YouTube videos
        </mat-checkbox>
        <br>
        <mat-slide-toggle color="primary" [disabled]="!receiveNotifications" [(ngModel)]="notifyOnlyIfImportant">Notify only if important</mat-slide-toggle>
    </div>
</div>
</body>
